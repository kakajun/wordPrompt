import{_ as t,s as e,n as i,r as o,o as l,c as s,w as a,a as n,b as r,d as u,t as c,e as p,f as d,i as h,g as m,h as f,j as g,I as y,u as C,k as b,l as _,m as S,p as x,q as w,v}from"./index-DEf4bDia.js";import{_ as k}from"./u-icon.v6RbJeQX.js";import{r as $}from"./uni-app.es.D238kvM3.js";import{u as T,_ as B}from"./script.BZhATyt-.js";import{k as I}from"./constants.Bt-31dPT.js";const j=t({name:"u-toast",props:{zIndex:{type:[Number,String],default:""}},data:()=>({isShow:!1,timer:null,config:{params:{},title:"",type:"",duration:2e3,isTab:!1,url:"",icon:!0,position:"center",callback:null,back:!1},tmpConfig:{}}),computed:{iconName(){if(["error","warning","success","info"].indexOf(this.tmpConfig.type)>=0&&this.tmpConfig.icon){return this.$u.type2icon(this.tmpConfig.type)}},uZIndex(){return this.isShow?this.zIndex?this.zIndex:this.$u.zIndex.toast:"999999"}},methods:{show(t){this.tmpConfig=this.$u.deepMerge(this.config,t),this.timer&&(clearTimeout(this.timer),this.timer=null),this.isShow=!0,this.timer=setTimeout((()=>{this.isShow=!1,clearTimeout(this.timer),this.timer=null,"function"==typeof this.tmpConfig.callback&&this.tmpConfig.callback(),this.timeEnd()}),this.tmpConfig.duration)},hide(){this.isShow=!1,this.timer&&(clearTimeout(this.timer),this.timer=null)},timeEnd(){if(this.tmpConfig.url){if("/"!=this.tmpConfig.url[0]&&(this.tmpConfig.url="/"+this.tmpConfig.url),Object.keys(this.tmpConfig.params).length){let t="";/.*\/.*\?.*=.*/.test(this.tmpConfig.url)?(t=this.$u.queryParams(this.tmpConfig.params,!1),this.tmpConfig.url=this.tmpConfig.url+"&"+t):(t=this.$u.queryParams(this.tmpConfig.params),this.tmpConfig.url+=t)}this.tmpConfig.isTab?e({url:this.tmpConfig.url}):i({url:this.tmpConfig.url})}else this.tmpConfig.back&&this.$u.route({type:"back"})}}},[["render",function(t,e,i,f,g,y){const C=$(o("u-icon"),k),b=h,_=m;return l(),s(b,{class:p(["u-toast",[g.isShow?"u-show":"","u-type-"+g.tmpConfig.type,"u-position-"+g.tmpConfig.position]]),style:d({zIndex:y.uZIndex})},{default:a((()=>[n(b,{class:"u-icon-wrap"},{default:a((()=>[g.tmpConfig.icon?(l(),s(C,{key:0,class:"u-icon",name:y.iconName,size:30,color:g.tmpConfig.type},null,8,["name","color"])):r("",!0)])),_:1}),n(_,{class:"u-text"},{default:a((()=>[u(c(g.tmpConfig.title),1)])),_:1})])),_:1},8,["class","style"])}],["__scopeId","data-v-aa0b93e8"]]);function F(t,e,i){}const H=t({name:"u-input",emits:["update:modelValue","input","change","confirm","clear","blur","focus","click","touchstart"],mixins:[{methods:{dispatch(t,e,i){let o=this.$parent||this.$root,l=o.$options.name;for(;o&&(!l||l!==t);)o=o.$parent,o&&(l=o.$options.name);o&&o[e](i)},broadcast(t,e,i){F.call(this,t,e,i)}}}],props:{value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},inputAlign:{type:String,default:""},placeholder:{type:String,default:"请输入内容"},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},placeholderStyle:{type:String,default:"color: #c0c4cc;"},confirmType:{type:String,default:"done"},customStyle:{type:Object,default:()=>({})},fixed:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},passwordIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!1},borderColor:{type:String,default:"#dcdfe6"},autoHeight:{type:Boolean,default:!0},selectOpen:{type:Boolean,default:!1},height:{type:[Number,String],default:""},clearable:{type:[Boolean,String]},cursorSpacing:{type:[Number,String],default:0},selectionStart:{type:[Number,String],default:-1},selectionEnd:{type:[Number,String],default:-1},trim:{type:Boolean,default:!0},showConfirmbar:{type:Boolean,default:!0},adjustPosition:{type:Boolean,default:!0},backgroundColor:{type:String},padding:{type:String}},data:()=>({defaultValue:"",inputHeight:70,textareaHeight:100,validateState:!1,focused:!1,showPassword:!1,lastValue:"",uForm:{inputAlign:"",clearable:""},showCover:!1}),watch:{valueCom(t,e){this.defaultValue=t,t!=e&&"select"==this.type&&this.handleInput({detail:{value:t}})},defaultValue(t,e){t&&t.length>this.maxlength&&setTimeout((()=>{t=t.substring(0,this.maxlength),this.handleInput({detail:{value:t}})}),0)}},computed:{valueCom(){return this.modelValue},inputAlignCom(){return this.inputAlign||this.uForm.inputAlign||"left"},clearableCom(){return"boolean"==typeof this.clearable?this.clearable:"boolean"!=typeof this.uForm.clearable||this.uForm.clearable},inputMaxlength(){return Number(this.maxlength)},getStyle(){let t={};return t.minHeight=this.height?this.height+"rpx":"textarea"==this.type?this.textareaHeight+"rpx":this.inputHeight+"rpx",t=Object.assign(t,this.customStyle),t},getCursorSpacing(){return Number(this.cursorSpacing)},uSelectionStart(){return String(this.selectionStart)},uSelectionEnd(){return String(this.selectionEnd)}},created(){this.defaultValue=this.valueCom},mounted(){let t=this.$u.$parent.call(this,"u-form");t&&Object.keys(this.uForm).map((e=>{this.uForm[e]=t[e]}))},methods:{handleInput(t){let e=t.detail.value;this.trim&&(e=this.$u.trim(e)),this.$emit("input",e),this.$emit("update:modelValue",e),this.defaultValue=e,setTimeout((()=>{this.dispatch("u-form-item","onFieldChange",e)}),40)},handleBlur(t){setTimeout((()=>{this.focused=!1}),100);let e=t.detail.value;this.$emit("blur",e),setTimeout((()=>{this.dispatch("u-form-item","onFieldBlur",e)}),40)},onFormItemError(t){this.validateState=t},onFocus(t){this.focused=!0,this.$emit("focus")},onConfirm(t){this.$emit("confirm",t.detail.value)},onClear(t){this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},inputClick(){this.$emit("click")}}},[["render",function(t,e,i,u,c,m){const C=g,b=y,_=h,S=$(o("u-icon"),k);return l(),s(_,{class:p(["u-input",{"u-input--border":i.border,"u-input--error":c.validateState}]),style:d({padding:i.padding?i.padding:`0 ${i.border?20:0}rpx`,borderColor:i.borderColor,textAlign:m.inputAlignCom,backgroundColor:i.backgroundColor}),onClick:f(m.inputClick,["stop"])},{default:a((()=>["textarea"==i.type?(l(),s(C,{key:0,class:"u-input__input u-input__textarea",style:d([m.getStyle]),value:c.defaultValue,placeholder:i.placeholder,placeholderStyle:i.placeholderStyle,disabled:i.disabled,fixed:i.fixed,focus:i.focus,maxlength:-1,autoHeight:i.autoHeight,"selection-end":m.uSelectionEnd,"selection-start":m.uSelectionStart,"cursor-spacing":m.getCursorSpacing,"show-confirm-bar":i.showConfirmbar,"adjust-position":i.adjustPosition,onInput:m.handleInput,onBlur:m.handleBlur,onFocus:m.onFocus,onConfirm:m.onConfirm},null,8,["style","value","placeholder","placeholderStyle","disabled","fixed","focus","autoHeight","selection-end","selection-start","cursor-spacing","show-confirm-bar","adjust-position","onInput","onBlur","onFocus","onConfirm"])):(l(),s(b,{key:1,class:p(["u-input__input","u-input__"+i.type]),type:"password"==i.type?"text":i.type,style:d([m.getStyle]),value:c.defaultValue,maxlength:1e4,password:"password"==i.type&&!c.showPassword,placeholder:i.placeholder,placeholderStyle:i.placeholderStyle,disabled:i.disabled||"select"===i.type&&!c.showCover,focus:i.focus,confirmType:i.confirmType,"cursor-spacing":m.getCursorSpacing,"selection-end":m.uSelectionEnd,"selection-start":m.uSelectionStart,"show-confirm-bar":i.showConfirmbar,"adjust-position":i.adjustPosition,onFocus:m.onFocus,onBlur:m.handleBlur,onInput:m.handleInput,onConfirm:m.onConfirm},null,8,["class","type","style","value","password","placeholder","placeholderStyle","disabled","focus","confirmType","cursor-spacing","selection-end","selection-start","show-confirm-bar","adjust-position","onFocus","onBlur","onInput","onConfirm"])),"select"===i.type&&c.showCover?(l(),s(_,{key:2,class:"cover-input",onClick:f(m.inputClick,["stop"])},null,8,["onClick"])):r("",!0),n(_,{class:"u-input__right-icon u-flex"},{default:a((()=>[m.clearableCom&&""!=m.valueCom&&c.focused?(l(),s(_,{key:0,class:"u-input__right-icon__clear u-input__right-icon__item",onClick:m.onClear},{default:a((()=>[n(S,{size:"32",name:"close-circle-fill",color:"#c0c4cc"})])),_:1},8,["onClick"])):r("",!0),i.passwordIcon&&"password"==i.type?(l(),s(_,{key:1,class:"u-input__right-icon__clear u-input__right-icon__item"},{default:a((()=>[n(S,{size:"32",name:c.showPassword?"eye-fill":"eye",color:"#c0c4cc",onClick:e[0]||(e[0]=t=>c.showPassword=!c.showPassword)},null,8,["name"])])),_:1})):r("",!0),"select"==i.type?(l(),s(_,{key:2,class:p(["u-input__right-icon--select u-input__right-icon__item",{"u-input__right-icon--select--reverse":i.selectOpen}])},{default:a((()=>[n(S,{name:"arrow-down-fill",size:"26",color:"#c0c4cc"})])),_:1},8,["class"])):r("",!0)])),_:1})])),_:1},8,["class","style","onClick"])}],["__scopeId","data-v-7640eeff"]]),V=t({__name:"index",setup(t){const{t:e}=C(),r=T(),p=b(""),d=b(null);_((()=>{p.value=r.text}));const m=S((()=>r.text));x(m,(t=>{p.value=t}));const f=()=>{r.setText(p.value),i({url:"/pages/prompter/prompter"})},g=()=>{i({url:"/pages/open-file/open-file"})},y=()=>{r.setText(p.value),v({title:e("HomeScreen.BottomSheet.Text_Title"),editable:!0,placeholderText:e("HomeScreen.BottomSheet.TextField_hintText"),success:t=>{t.confirm&&t.content&&(d.value.show({title:e("HomeScreen.Text_Saved"),type:"success"}),r.setTitle(t.content),r.saveScript())}})},k=()=>{i({url:"/pages/settings/settings"})},F=()=>{v({title:e("HomeScreen.IconButton_About"),content:`WordPrompt ${I}`,showCancel:!1})};return(t,e)=>{const i=$(o("u-toast"),j),r=$(o("u-input"),H),m=h,C=$(o("u-button"),B),b=w("uni-icons");return l(),s(m,{class:"home-screen"},{default:a((()=>[n(i,{ref_key:"uToast1",ref:d},null,512),n(m,{class:"input-area"},{default:a((()=>[n(r,{type:"textarea",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),clearable:"",maxlength:99999,"adjust-position":"",border:"","auto-height":!1,height:"900",placeholder:t.$t("HomeScreen.TextField_hintText"),class:"script-input"},null,8,["modelValue","placeholder"])])),_:1}),n(m,{class:"u-button-group"},{default:a((()=>[n(C,{onClick:f},{default:a((()=>[u(c(t.$t("HomeScreen.ElevatedButton_Start")),1)])),_:1}),n(C,{onClick:g},{default:a((()=>[u(c(t.$t("HomeScreen.ElevatedButton_Select")),1)])),_:1}),n(C,{onClick:y},{default:a((()=>[u(c(t.$t("HomeScreen.ElevatedButton_Save")),1)])),_:1})])),_:1}),n(m,{class:"bottom-bar"},{default:a((()=>[n(m,{class:"icon-group"},{default:a((()=>[n(m,{onClick:k},{default:a((()=>[n(b,{type:"gear",size:"24"})])),_:1}),n(m,{onClick:F},{default:a((()=>[n(b,{type:"info",size:"24"})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-d19b1b76"]]);export{V as default};
